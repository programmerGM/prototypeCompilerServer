<!DOCTYPE html>
<html lang="en">
  <head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <style>
      .table > thead > tr > th : nth-child(1) {
        width: 80px;
      }
    </style>
  </head>
  <body>
    <form action="/validar" method="post">
      <textarea name="textarea" rows="10" cols="100"><%=dadosForm%></textarea>
      <br>
      <button type="submit">Validar</button>
    </form>
    <% if (tokens.length>0) { %>
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>Linha</th>
            <th>Token</th>
            <th>CÃ³digo</th>
            <th>Mensagem</th>
          </tr>
        </thead>
        <tbody>
          <% for(var i = 0; i < tokens.length; i++) { %>
          </tr>
            <td><%= tokens[i].line + 1 %></td>
            <td><%=tokens[i].token %></td>
            <td><%=tokens[i].code %></td>
            <td class="<% if(tokens[i].messageError!== null) { %> alert alert-danger <% } %>"><%= tokens[i].messageError %></td>
          </tr>
          <% } %>
        </tbody>
      </table>
    <% } %>

  </body>
</html>